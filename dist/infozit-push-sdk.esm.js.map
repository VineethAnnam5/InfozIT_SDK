{"version":3,"file":"infozit-push-sdk.esm.js","sources":["../src/utils/base64.js","../src/utils/push.js","../src/index.js"],"sourcesContent":["// push-notification-sdk/src/utils/base64.js\r\n\r\n/**\r\n * Converts a URL-safe Base64 string to a Uint8Array.\r\n * Used for converting VAPID public keys.\r\n * @param {string} base64String - The Base64 URL-safe string.\r\n * @returns {Uint8Array} The converted Uint8Array.\r\n */\r\nexport function urlB64ToUint8Array(base64String) {\r\n  const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n  const base64 = (base64String + padding)\r\n    .replace(/\\-/g, '+') // Replace - with +\r\n    .replace(/_/g, '/'); // Replace _ with /\r\n\r\n  const rawData = window.atob(base64); // Decode Base64 string\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  // Populate Uint8Array with character codes\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}","// push-notification-sdk/src/utils/push.js\r\n\r\nimport { urlB64ToUint8Array } from './base64';\r\n\r\n/**\r\n * Subscribes the user to push notifications and sends the subscription to the backend.\r\n * @param {object} config - Configuration object from SDK init.\r\n * @param {ServiceWorkerRegistration} registration - The active service worker registration.\r\n */\r\nexport async function subscribeUser(config, registration) {\r\n  // Ensure required config for subscription is present\r\n  if (!config.applicationServerKey) {\r\n    console.error('[PushSDK][subscribeUser] Missing applicationServerKey in config.');\r\n    throw new Error('Application Server Key is required for subscription.');\r\n  }\r\n  if (!config.backendUrl) {\r\n      console.error('[PushSDK][subscribeUser] Missing backendUrl in config. Subscription will not be saved.');\r\n      throw new Error('Backend URL is required to save subscription.');\r\n  }\r\n\r\n  try {\r\n    let subscription = await registration.pushManager.getSubscription();\r\n\r\n    if (subscription) {\r\n      console.log('[PushSDK][subscribeUser] Existing push subscription found:', subscription);\r\n      // Optional: Check if subscription needs to be re-sent (e.g., if userId changed)\r\n      // For simplicity, we'll re-send if found, ensuring backend is always up-to-date.\r\n      await sendSubscriptionToBackend(subscription, config.backendUrl, config.apiKey, config.userId);\r\n      await sendWelcomeNotification(registration, config.welcomeIconPath);\r\n      return subscription;\r\n    }\r\n\r\n    console.log('[PushSDK][subscribeUser] No existing subscription. Creating new subscription...');\r\n    const subscribeOptions = {\r\n      userVisibleOnly: true,\r\n      applicationServerKey: urlB64ToUint8Array(config.applicationServerKey),\r\n    };\r\n\r\n    subscription = await registration.pushManager.subscribe(subscribeOptions);\r\n    console.log('[PushSDK][subscribeUser] New push subscription created:', subscription);\r\n\r\n    await sendSubscriptionToBackend(subscription, config.backendUrl, config.apiKey, config.userId);\r\n    await sendWelcomeNotification(registration, config.welcomeIconPath);\r\n\r\n    return subscription;\r\n\r\n  } catch (error) {\r\n    if (error.name === 'NotAllowedError') {\r\n      console.warn('[PushSDK][subscribeUser] Permission denied by user or browser policy.');\r\n      throw new Error('Notification permission denied.');\r\n    } else if (error.name === 'AbortError') {\r\n      console.warn('[PushSDK][subscribeUser] Subscription process aborted (e.g., user closed prompt).');\r\n      throw new Error('Subscription aborted.');\r\n    } else {\r\n      console.error('[PushSDK][subscribeUser] An unexpected error occurred during subscription:', error);\r\n      throw error; // Re-throw to propagate\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Sends the PushSubscription object to your backend server.\r\n * @param {PushSubscription} subscription - The PushSubscription object.\r\n * @param {string} backendUrl - The URL of your backend endpoint to save subscriptions.\r\n * @param {string} [apiKey] - Optional API key for backend authentication.\r\n * @param {string} [userId] - Optional user ID to associate with the subscription.\r\n * @returns {Promise<any>} - The response data from the backend.\r\n */\r\nexport async function sendSubscriptionToBackend(subscription, backendUrl, apiKey, userId) {\r\n  const dataToSend = {\r\n    endpoint: subscription.endpoint,\r\n    expirationTime: subscription.expirationTime,\r\n    keys: subscription.toJSON().keys, // This includes p256dh and auth keys\r\n    hostname: window.location.origin,\r\n    userId: userId, // Pass userId from config\r\n    // apiKey: apiKey // Include API Key in body if backend expects it this way\r\n  };\r\n\r\n  try {\r\n    console.log('[PushSDK][sendSubscriptionToBackend] Sending data:', dataToSend);\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n    if (apiKey) {\r\n      // Example: Add an Authorization header if your backend requires it\r\n      // Adjust 'Bearer' token format as per your backend's authentication scheme\r\n      headers['Authorization'] = `Bearer ${apiKey}`;\r\n    }\r\n\r\n    const response = await fetch(backendUrl, {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify(dataToSend),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorDetail = await response.text(); // Get more detail from response\r\n      throw new Error(`Backend responded with status: ${response.status} - ${errorDetail}`);\r\n    }\r\n\r\n    const responseData = await response.json();\r\n    console.log('[PushSDK][sendSubscriptionToBackend] Subscription saved successfully:', responseData);\r\n    return responseData;\r\n  } catch (error) {\r\n    console.error('[PushSDK][sendSubscriptionToBackend] Error sending subscription to backend:', error);\r\n    throw error; // Re-throw to propagate the error\r\n  }\r\n}\r\n\r\n/**\r\n * Shows a welcome notification to the user.\r\n * @param {ServiceWorkerRegistration} registration - The active service worker registration.\r\n * @param {string} welcomeIconPath - Path to the icon for the welcome notification.\r\n */\r\nexport async function sendWelcomeNotification(registration, welcomeIconPath) {\r\n  if (registration && 'Notification' in window) {\r\n    try {\r\n      await registration.showNotification('Welcome to Teksskillhub!', {\r\n        body: 'Thanks for enabling notifications. We\\'ll keep you updated!',\r\n        icon: welcomeIconPath || '/welcome-icon.png', // Fallback to a common path\r\n        tag: 'welcome-notification' // Use a tag to prevent multiple welcome notifications\r\n      });\r\n      console.log('[PushSDK][sendWelcomeNotification] Welcome notification shown.');\r\n    } catch (error) {\r\n      console.error('[PushSDK][sendWelcomeNotification] Failed to show welcome notification:', error);\r\n    }\r\n  } else {\r\n    console.warn('[PushSDK][sendWelcomeNotification] Cannot show welcome notification: Service Worker or Notification API not available.');\r\n  }\r\n}","// push-notification-sdk/src/index.js\r\n\r\nimport { subscribeUser } from './utils/push'; // Import push-related utilities\r\n\r\n/**\r\n * Initializes the InfozIT Push Notification SDK.\r\n * This function handles service worker registration, notification permission requests,\r\n * and push subscription management.\r\n *\r\n * @param {object} config - Configuration object for the SDK.\r\n * @param {string} config.serviceWorkerUrl - The relative or absolute URL to the `service-worker.js` file.\r\n * (e.g., '/service-worker.js' if copied to app's public folder)\r\n * @param {string} config.backendUrl - The URL of your backend endpoint where push subscriptions will be saved.\r\n * (e.g., 'https://your-api.com/api/pushtokens/subscribe')\r\n * @param {string} config.applicationServerKey - Your VAPID public key, as a Base64 URL-safe string.\r\n * @param {string} [config.apiKey] - Optional: Your API key for authentication with your backend.\r\n * @param {string} [config.userId] - Optional: A unique identifier for the current user.\r\n * @param {string} [config.welcomeIconPath='/welcome-icon.png'] - Optional: Path to the icon for the welcome notification.\r\n */\r\nexport async function init(config) {\r\n  console.log('[PushSDK] InfozIT SDK Initialization Started.', config);\r\n\r\n  // --- Input Validation ---\r\n  if (!config || !config.serviceWorkerUrl || !config.backendUrl || !config.applicationServerKey) {\r\n    console.error('[PushSDK] Initialization failed: Missing required configuration parameters. ' +\r\n                  'Ensure serviceWorkerUrl, backendUrl, and applicationServerKey are provided.');\r\n    return;\r\n  }\r\n\r\n  // --- Browser Compatibility Checks ---\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.warn('[PushSDK] Service Workers are not supported in this browser. Push notifications will not work.');\r\n    return;\r\n  }\r\n  if (!('PushManager' in window)) {\r\n    console.warn('[PushSDK] Push API is not supported in this browser. Push notifications will not work.');\r\n    return;\r\n  }\r\n  if (!('Notification' in window)) {\r\n    console.warn('[PushSDK] Notification API is not supported in this browser. Push notifications will not work.');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // 1. Register the Service Worker\r\n    console.log(`[PushSDK] Registering service worker from: ${config.serviceWorkerUrl}`);\r\n    const registration = await navigator.serviceWorker.register(config.serviceWorkerUrl, { scope: '/' });\r\n    console.log('[PushSDK] Service Worker registration successful:', registration);\r\n\r\n    // 2. Request Notification Permission\r\n    // This will prompt the user if permission is 'default' or has never been requested.\r\n    // If 'granted' or 'denied', it will resolve immediately with that status.\r\n    console.log('[PushSDK] Requesting notification permission...');\r\n    const permission = await Notification.requestPermission();\r\n    console.log('[PushSDK] Notification permission status:', permission);\r\n\r\n    if (permission === 'granted') {\r\n      // 3. Subscribe the User to Push Notifications (or get existing subscription)\r\n      console.log('[PushSDK] Permission granted. Attempting to subscribe user...');\r\n      await subscribeUser(config, registration); // Pass config and registration to subscribeUser\r\n\r\n      console.log('[PushSDK] InfozIT SDK Initialization Completed Successfully.');\r\n    } else if (permission === 'denied') {\r\n      console.warn('[PushSDK] Notification permission explicitly denied by user. Cannot subscribe.');\r\n      // Optionally send an event to your analytics that permission was denied\r\n    } else { // 'default' or unrecognized\r\n      console.warn('[PushSDK] Notification permission not granted. User did not allow or dismissed the prompt.');\r\n    }\r\n\r\n  } catch (error) {\r\n    // Centralized error handling for the init process\r\n    if (error.name === 'NotAllowedError' || error.message === 'Notification permission denied.') {\r\n      console.error('[PushSDK] Initialization Error: User blocked notifications.', error);\r\n    } else if (error.name === 'AbortError' || error.message === 'Subscription aborted.') {\r\n      console.warn('[PushSDK] Initialization Warning: Subscription process was cancelled.', error);\r\n    } else {\r\n      console.error('[PushSDK] An unexpected error occurred during SDK initialization:', error);\r\n    }\r\n  }\r\n}"],"names":[],"mappings":"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"}